<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Pony Tutorial  | Match Expressions</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.52" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.955516233bcafa4d2a1c13cea63c7b50.css" rel="stylesheet">
    

    
      <link rel="stylesheet" href="/css/highlight.css">
    
      <link rel="stylesheet" href="/css/my.css">
    

    
      
    

    

    <meta property="og:title" content="Match Expressions" />
<meta property="og:description" content="If we want to compare an expression to a value then we use an if. But if we want to compare an expression to a lot of values this gets very tedious. Pony provides a powerful pattern matching facility, combining matching on values and types, without any special code required.
Matching: the basics Here&rsquo;s a simple example of a match expression that produces a string.
match x | 2 =&gt; &quot;int&quot; | 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tutorial.ponylang.io/pattern-matching/match.html" />

<meta itemprop="name" content="Match Expressions">
<meta itemprop="description" content="If we want to compare an expression to a value then we use an if. But if we want to compare an expression to a lot of values this gets very tedious. Pony provides a powerful pattern matching facility, combining matching on values and types, without any special code required.
Matching: the basics Here&rsquo;s a simple example of a match expression that produces a string.
match x | 2 =&gt; &quot;int&quot; | 2.">



<meta itemprop="wordCount" content="1797">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Match Expressions"/>
<meta name="twitter:description" content="If we want to compare an expression to a value then we use an if. But if we want to compare an expression to a lot of values this gets very tedious. Pony provides a powerful pattern matching facility, combining matching on values and types, without any special code required.
Matching: the basics Here&rsquo;s a simple example of a match expression that produces a string.
match x | 2 =&gt; &quot;int&quot; | 2."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="bg-pony-brown">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://tutorial.ponylang.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      Pony Tutorial
    </a>
    <div class="flex-l items-center">
      
      
<div hidden>
  <span id="new-window-0">Opens in a new window</span>
  <span id="new-window-1">Opens an external site</span>
  <span id="new-window-2">Opens an external site in a new window</span>
</div>



<a href="https://www.twitter.com/ponylang" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-describedby="new-window-0">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>





<a href="https://www.github.com/ponylang/ponyc" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-describedby="new-window-0">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



    </div>
  </div>
</nav>

    </div>
  </header>


    <main role="main">
      
  <article class="w-100 ph4 pb5 pb6-ns pt1 pt5-ns">
    <div class="flex-l">

      <div class="order-1 w-60-l mw8 ph0 ph5-ns mid-gray nested-copy-line-height no-underline nested-links nested-img nested-copy-seperator nested-blockquote mt0-ns" style="flex-grow:1;">
        <div class="documentation-copy center mw7">
          <header class="mt4 w-100">
            <p class="f6 b helvetica tracked">
                
              PATTERN MATCHING
            </p>
            <h1 class="f1 athelas mb1">Match Expressions</h1>
          </header>

          <main class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l">

<p>If we want to compare an expression to a value then we use an <code>if</code>. But if we want to compare an expression to a lot of values this gets very tedious. Pony provides a powerful pattern matching facility, combining matching on values and types, without any special code required.</p>

<h2 id="matching-the-basics">Matching: the basics</h2>

<p>Here&rsquo;s a simple example of a match expression that produces a string.</p>

<pre><code class="language-pony">match x
| 2 =&gt; &quot;int&quot;
| 2.0 =&gt; &quot;float&quot;
| &quot;2&quot; =&gt; &quot;string&quot;
else
  &quot;something else&quot;
end
</code></pre>

<p>If you&rsquo;re used to functional languages this should be very familiar.</p>

<p>For those readers more familiar with the C and Java family of languages, think of this like a switch statement. But you can switch on values other than just integers, like Strings. In fact, you can switch on any type that provides a comparison function, including your own classes. And you can also switch on the runtime type of an expression.</p>

<p>A match starts with the keyword <code>match</code>, followed by the expression to match, which is known as the match <strong>operand</strong>. In this example, the operand is just the variable <code>x</code>, but it can be any expression.</p>

<p>Most of the match expression consists of a series of <strong>cases</strong> that we match against. Each case consists of a pipe symbol (&lsquo;|&rsquo;), the <strong>pattern</strong> to match against, an arrow (&lsquo;=&gt;&rsquo;) and the expression to evaluate if the case matches.</p>

<p>We go through the cases one by one until we find one that matches. (Actually, in practice the compiler is a lot more intelligent than that and uses a combination of sequential checks and jump tables to be as efficient as possible.)</p>

<p>Note that each match case has an expression to evaluate and these are all independent. There is no &ldquo;fall through&rdquo; between cases as there is in languages such as C.</p>

<p>If the value produced by the match expression isn&rsquo;t used then the cases can omit the arrow and expression to evaluate. This can be useful for excluding specific cases before a more general case.</p>

<h3 id="else-cases">Else cases</h3>

<p>As with all Pony control structures, the else case for a match expression is used if we have no other value, i.e. if none of our cases match. The else case, if there is one, <strong>must</strong> come at the end of the match, after all of the specific cases.</p>

<p>If the value the match expression results in is used then you need to have an else case, except in cases where the compiler recognizes that the match is exhaustive and that the else case can never actually be reached. If you omit it a default will be added which evaluates to <code>None</code>.</p>

<p>The compiler recognizes a match as exhaustive when the union of the types for all patterns that match on type alone is a supertype of the matched expression type. In other words, when your cases cover all possible types for the matched expression, the compiler will not add an implicit <code>else None</code> to your match statement.</p>

<h2 id="matching-on-values">Matching on values</h2>

<p>The simplest match expression just matches on value.</p>

<pre><code class="language-pony">fun f(x: U32): String =&gt;
  match x
  | 1 =&gt; &quot;one&quot;
  | 2 =&gt; &quot;two&quot;
  | 3 =&gt; &quot;three&quot;
  | 5 =&gt; &quot;not four&quot;
  else
    &quot;something else&quot;
  end
</code></pre>

<p>For value matching the pattern is simply the value we want to match to, just like a C switch statement. The case with the same value as the operand wins and we use its expression.</p>

<p>The compiler calls the eq() function on the operand, passing the pattern as the argument. This means that you can use your own types as match operands and patterns, as long as you define an eq() function.</p>

<pre><code class="language-pony">class Foo
  var _x: U32

  new create(x: U32) =&gt;
    _x = x

  fun eq(that: Foo): Bool =&gt;
    _x == that._x

actor Main
  fun f(x: Foo): String =&gt;
    match x
    | Foo(1) =&gt; &quot;one&quot;
    | Foo(2) =&gt; &quot;two&quot;
    | Foo(3) =&gt; &quot;three&quot;
    | Foo(5) =&gt; &quot;not four&quot;
    else
      &quot;something else&quot;
    end
</code></pre>

<h2 id="matching-on-type-and-value">Matching on type and value</h2>

<p>Matching on value is fine if the match operand and case patterns have all the same type. However, match can cope with multiple different types. Each case pattern is first checked to see if it is the same type as the runtime type of the operand. Only then will the values be compared.</p>

<pre><code class="language-pony">fun f(x: (U32 | String | None)): String =&gt;
  match x
  | None =&gt; &quot;none&quot;
  | 2 =&gt; &quot;two&quot;
  | 3 =&gt; &quot;three&quot;
  | &quot;5&quot; =&gt; &quot;not four&quot;
  else
    &quot;something else&quot;
  end
</code></pre>

<p>In many languages using runtime type information is very expensive and so it is generally avoided whenever possible.</p>

<p>In Pony it&rsquo;s cheap. Really cheap. Pony&rsquo;s &ldquo;whole program&rdquo; approach to compilation means the compiler can work out as much as possible at compile time. The runtime cost of each type check is generally a single pointer comparison. Plus of course, any checks which can be fully determined at compile time are. So for upcasts there&rsquo;s no runtime cost at all.</p>

<p><strong>When are case patterns for value matching evaluated?</strong> Each case pattern expression that matches the type of the match operand, needs to be evaluated <strong>each time</strong> the <code>match</code> expression is evaluated until one case matches (further case patterns are ignored). This can lead to creating lots of objects unintentionally for the sole purpose of checking for equality. If case patterns actually only need to differentiate by type, <a href="#captures">Captures</a> should be used instead, these boil down to simple type checks at runtime.</p>

<p>At first sight it is easy to confuse a value matching pattern for a type check. Consider the following example:</p>

<pre><code class="language-pony">class Foo is Equatable[Foo]

actor Main
  
  fun f(x: (Foo | None)): String =&gt;
    match x
    | Foo =&gt; &quot;foo&quot;
    | None =&gt; &quot;bar&quot;
    else
      &quot;&quot;
    end

  new create(env: Env) =&gt;
    f(Foo)
</code></pre>

<p>Both case patterns actually <strong>do not</strong> check for the match operand <code>x</code> being an instance of <code>Foo</code> or <code>None</code>, but check for equality with the instance created by evaluating the case pattern (each time). <code>None</code> is a primitive and thus there is only one instance at all, in which case this value pattern kind of does the expected thing, but not quite. If <code>None</code> had a custom <code>eq</code> function that would not use <a href="../expressions/equality.md#identity-equality">identity equality</a>, this could lead to surprising results.</p>

<p>Remember to always use <a href="#captures">Captures</a> if all you need is to differentiate by type. Only use value matching if you need a full blown equality check, be it for <a href="../expressions/equality.md#structural-equality">structural equality</a> or <a href="../expressions/equality.md#identity-equality">identity equality</a>.</p>

<h2 id="captures">Captures</h2>

<p>Sometimes you want to be able to match the type, for any value of that type. For this, you use a <strong>capture</strong>. This defines a local variable, valid only within the case, containing the value of the operand. If the operand is not of the specified type then the case doesn&rsquo;t match.</p>

<p>Captures look just like variable declarations within the pattern. Like normal variables, they can be declared as var or let. If you&rsquo;re not going to reassign them within the case expression it is good practice to use let.</p>

<pre><code class="language-pony">fun f(x: (U32 | String | None)): String =&gt;
  match x
  | None =&gt; &quot;none&quot;
  | 2 =&gt; &quot;two&quot;
  | 3 =&gt; &quot;three&quot;
  | let u: U32 =&gt; &quot;other integer&quot;
  | let s: String =&gt; s
  end
</code></pre>

<p><strong>Can I omit the type from a capture, like I can from a local variable?</strong> Unfortunately no. Since we match on type and value the compiler has to know what type the pattern is, so it can&rsquo;t be inferred.</p>

<h2 id="implicit-matching-on-capabilities-in-the-context-of-union-types">Implicit matching on capabilities in the context of union types</h2>

<p>In union types, when we pattern match on individual classes or traits, we also implicitly pattern match on the corresponding capabilities. In the example provided below, if <code>_x</code> has static type <code>(A iso | B ref | None)</code> and dynamically matches <code>A</code>, then we also know that it must be an <code>A iso</code>.</p>

<pre><code class="language-pony">class A
  fun ref sendable() =&gt; 
    None
  
class B
  fun ref update() =&gt; 
    None

actor Main
  var _x: (A iso | B ref | None)

  new create(env: Env) =&gt;
    _x = None

  be f(a': A iso) =&gt;
    match (_x = None) // type of this expression: (A iso^ | B ref | None)
    | let a: A iso =&gt; f(consume a)
    | let b: B ref =&gt; b.update()
    end
</code></pre>

<p>Note that using a match expression to differentiate solely based on capabilities at runtime is not possible, that is:</p>

<pre><code class="language-pony">class A
  fun ref sendable() =&gt; 
    None
  
actor Main
  var _x: (A iso | A ref | None)

  new create(env: Env) =&gt;
    _x = None

  be f() =&gt;
    match (_x = None)
    | let a1: A iso =&gt; None
    | let a2: A ref =&gt; None
    end
</code></pre>

<p>does not typecheck.</p>

<h2 id="matching-tuples">Matching tuples</h2>

<p>If you want to match on more than one operand at once then you can simply use a tuple. Cases will only match if <strong>all</strong> the tuple elements match.</p>

<pre><code class="language-pony">fun f(x: (String | None), y: U32): String =&gt;
  match (x, y)
  | (None, let u: U32) =&gt; &quot;none&quot;
  | (let s: String, 2) =&gt; s + &quot; two&quot;
  | (let s: String, 3) =&gt; s + &quot; three&quot;
  | (let s: String, let u: U32) =&gt; s + &quot; other integer&quot;
  else
    &quot;something else&quot;
  end
</code></pre>

<p><strong>Do I have to specify all the elements in a tuple?</strong> No, you don&rsquo;t. Any tuple elements in a pattern can be marked as &ldquo;don&rsquo;t care&rdquo; by using an underscore (&rsquo;_&lsquo;). The first and fourth cases in our example don&rsquo;t actually care about the U32 element, so we can ignore it.</p>

<pre><code class="language-pony">fun f(x: (String | None), y: U32): String =&gt;
  match (x, y)
  | (None, _) =&gt; &quot;none&quot;
  | (let s: String, 2) =&gt; s + &quot; two&quot;
  | (let s: String, 3) =&gt; s + &quot; three&quot;
  | (let s: String, _) =&gt; s + &quot; other integer&quot;
  else
    &quot;something else&quot;
  end
</code></pre>

<h2 id="guards">Guards</h2>

<p>In addition to matching on types and values, each case in a match can also have a guard condition. This is simply an expression, evaluated <strong>after</strong> type and value matching has occurred, that must give the value true for the case to match. If the guard is false then the case doesn&rsquo;t match and we move onto the next in the usual way.</p>

<p>Guards are introduced with the <code>if</code> keyword (<em>was <code>where</code> until 0.2.1</em>).</p>

<p>A guard expression may use any captured variables from that case, which allows for handling ranges and complex functions.</p>

<pre><code class="language-pony">fun f(x: (String | None), y: U32): String =&gt;
  match (x, y)
  | (None, _) =&gt; &quot;none&quot;
  | (let s: String, 2) =&gt; s + &quot; two&quot;
  | (let s: String, 3) =&gt; s + &quot; three&quot;
  | (let s: String, let u: U32) if u &gt; 14 =&gt; s + &quot; other big integer&quot;
  | (let s: String, _) =&gt; s + &quot; other small integer&quot;
  else
    &quot;something else&quot;
  end
</code></pre>





          </main>
        </div>
      </div>
      <div class="order-0 w-20 dn db-l doc-menu">
        
<nav role="navigation">
  <ul class="list pa0 nl2">
    
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".getting-started">Getting Started</a>
        <ul class="getting-started desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/getting-started.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Getting Started with Pony
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/getting-started/what-you-need.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              What You Need
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/getting-started/hello-world.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Hello World: Your First Pony Program
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/getting-started/how-it-works.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Hello World: How It Works
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".types">Types</a>
        <ul class="types desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/types.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Types
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/at-a-glance.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              The Pony Type System at a Glance
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/classes.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Classes
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/primitives.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Primitives
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/actors.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Actors
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/traits-and-interfaces.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Traits and Interfaces
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/type-aliases.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Type Aliases
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/types/type-expressions.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Type Expressions
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".expressions">Expressions</a>
        <ul class="expressions desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/expressions.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Expressions
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/literals.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Literals
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/variables.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Variables
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/infix-ops.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Infix Operators
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/arithmetic.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Arithmetic
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/control-structures.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Control Structures
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/methods.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Methods
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/errors.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Errors
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/equality.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Equality in Pony
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/sugar.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Sugar
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/object-literals.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Object Literals
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/expressions/partial-application.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Partial Application
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".capabilities">Capabilities</a>
        <ul class="capabilities desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/capabilities.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Capabilities
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/object-capabilities.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Object Capabilities
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/reference-capabilities.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Reference Capabilities
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/guarantees.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Reference Capability Guarantees
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/consume-and-destructive-read.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Consume and Destructive Read
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/recovering-capabilities.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Recovering Capabilities
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/aliasing.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Aliasing
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/combining-capabilities.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Combining Capabilities
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/passing-and-sharing.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Passing and Sharing References
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/capability-subtyping.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Capability Subtyping
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/arrow-types.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Arrow Types aka Viewpoints
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/capabilities/trust-boundary.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Trust Boundary
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".generics">Generics</a>
        <ul class="generics desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/generics.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Generics
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/generics/generics-and-reference-capabilities.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Generics and Reference Capabilities
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/generics/generic-constraints.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Constraints
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2  primary-color" data-target=".pattern-matching">Pattern Matching</a>
        <ul class="pattern-matching desktopmenu animated fadeIn list pl0 bg-light-gray db">
          <li class="f6 fw4">
            <a href="/pattern-matching.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Pattern Matching
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/pattern-matching/match.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 primary-color ">
              Match Expressions
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/pattern-matching/as.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              As Operator
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".packages">Packages</a>
        <ul class="packages desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/packages.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Packages
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/packages/package-system.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Package System
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/packages/use-statement.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Use Statement
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/packages/standard-library.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Standard Library
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".testing">Testing</a>
        <ul class="testing desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/testing.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Testing
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/testing/ponytest.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Testing with Ponytest
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".c-ffi">C FFI</a>
        <ul class="c-ffi desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/c-ffi.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              C FFI
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/c-ffi/calling-c.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Calling C from Pony
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/c-ffi/linking-c.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Linking to C Libraries
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/c-ffi/c-abi.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              C ABI
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/c-ffi/callbacks.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Callbacks
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".gotchas">Gotchas</a>
        <ul class="gotchas desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/gotchas.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Gotchas
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/gotchas/divide-by-zero.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Divide by Zero
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/gotchas/garbage-collection.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Garbage Collection
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/gotchas/scheduling.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Scheduling
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/gotchas/side-effect-ordering-in-function-call-expressions.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Function call side effects
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/gotchas/recursion.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Recursion
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".where-next">Where Next?</a>
        <ul class="where-next desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/where-next.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Where Next?
            </a>
          </li>
        </ul>
      </li>
      
      <li class="f5 w-100 hover-bg-light-gray hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".appendices">Appendices</a>
        <ul class="appendices desktopmenu animated fadeIn list pl0 bg-light-gray dn">
          <li class="f6 fw4">
            <a href="/appendices.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Appendix
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/lexicon.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Lexicon
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/symbol-lookup-cheatsheet.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Symbol Lookup Cheatsheet
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/keywords.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Keywords
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/whitespace.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Whitespace
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/compiler-args.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Compiler Arguments
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/memory-allocation.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Memory Allocation at Runtime
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/garbage-collection.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Garbage Collection with Pony-ORCA
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/platform-dependent-code.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Platform-dependent code
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/error-messages.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              A short guide to Pony error messages
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/annotations.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Program Annotations
            </a>
          </li>
          <li class="f6 fw4">
            <a href="/appendices/serialisation.html" class="db link hover-bg-gray hover-white pl3 pr2 pv2 black ">
              Serialisation
            </a>
          </li>
        </ul>
      </li>
  </ul>
</nav>

      </div>
    </div>
  </article>

    </main>
    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/pony.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>

<script>
  var toggleBtns = document.getElementsByClassName('js-toggle')
  for (var i = 0; i < toggleBtns.length; i++) {
    toggleBtns[i].addEventListener('click', toggleClass, false)
  }

function toggleClass() {
  
  var content = this.dataset.target.split(' ')
  
  var mobileCurrentlyOpen = document.querySelector('.mobilemenu:not(.dn)')
  var desktopCurrentlyOpen = document.querySelector('.desktopmenu:not(.dn)')
  var desktopActive = document.querySelector('.desktopmenu:not(.dn)')

  
  for (var i = 0; i < content.length; i++) {
    var matches = document.querySelectorAll(content[i]);
    
    [].forEach.call(matches, function(dom) {
        dom.classList.contains('dn') ?
        dom.classList.remove('dn') :
        dom.classList.add('dn');
         return false;
       });
        
      if (mobileCurrentlyOpen) mobileCurrentlyOpen.classList.add('dn')
      if (desktopCurrentlyOpen) desktopCurrentlyOpen.classList.add('dn')
      if (desktopActive) desktopActive.classList.remove('db')

    }
  }
</script>

  </body>
</html>
